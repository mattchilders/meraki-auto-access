<style>
  .btn-green {
    background-color: #78BE1F;
    border-color: #78BE1F;
  }
</style>

<!-- New PortProfile Modal -->
<div class="modal fade" id="newPortProfile" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <!--<div class="modal-content">-->
    <form class="create-form modal-content" role="form" ng-submit="createPortProfile(newPortProfile)" novalidate>
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Add New Port Profile</h4>
      </div>
      <div class="modal-body">
        <div class="form-group">
            <label>Name</label>
            <input type="text" class="form-control" ng-model="newPortProfile.name" placeholder="Enter name">
          </div>
        <div class="form-group">
            <label>Port Type</label>
            <select class="form-control" ng-model="newPortProfile.porttype" ng-options="port for port in porttypes"></select>
          </div>
        <div class="form-group" ng-if="newPortProfile.porttype=='access'">
            <label>VLAN</label>
            <input type="text" class="form-control" ng-model="newPortProfile.vlan" placeholder="Enter VLAN">
          </div>
        <div class="form-group" ng-if="newPortProfile.porttype=='access'">
            <label>Voice VLAN</label>
            <input type="text" class="form-control" ng-model="newPortProfile.voicevlan" placeholder="Enter Voice VLAN">
          </div>
        <div class="form-group" ng-if="newPortProfile.porttype=='trunk'">
            <label>Native VLAN</label>
            <input type="text" class="form-control" ng-model="newPortProfile.vlan" placeholder="Enter Native VLAN">
          </div>
        <div class="form-group" ng-if="newPortProfile.porttype=='trunk'">
            <label>Allowed VLANs</label>
            <input type="text" class="form-control" ng-model="newPortProfile.allowedvlans" placeholder="Enter Allowed VLAN">
          </div>
        <div class="form-group">
            <label>Tags</label>
            <input type="text" class="form-control" ng-model="newPortProfile.tags" placeholder="Enter Tags, space seperated">
          </div>
        <div class="form-group">
            <label>PoE</label>
            <select class="form-control" ng-model="newPortProfile.poe" ng-options="poetype for poetype in poe"></select>
          </div>
        <div class="form-group">
            <label>Isolation</label>
            <select class="form-control" ng-model="newPortProfile.isolation" ng-options="poetype for poetype in poe"></select>
          </div>
        <div class="form-group">
            <label>RSTP</label>
            <select class="form-control" ng-model="newPortProfile.rstp" ng-options="type for type in rstp"></select>
          </div>
        <div class="form-group" ng-if="newPortProfile.rstp=='enabled'">
            <label>STPguard</label>
            <select class="form-control" ng-model="newPortProfile.stpguard" ng-options="type for type in stpguard"></select>
          </div>
        <div class="form-group">
            <label>Access Policy</label>
            <input type="text" class="form-control" ng-model="newPortProfile.accesspolicynum" placeholder="Enter Access Policy">
          </div>
        <!--<div class="form-group">
            <label>Negotiation</label>
            <select class="form-control" ng-model="newPortProfile.linkNegotiation" ng-options="type for type in negotiation"></select>
          </div>-->
          <!--<button type="submit" class="btn btn-info btn-lg">Add</button>-->
        <div ng-show="createPortProfileError" class="col-sm-12 alert alert-danger">{{ createPortProfileError }}</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary btn-green">Add</button>
      </div>
    </form>
    <!--</div> /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<!-- Edit PortProfile Modal -->
<div class="modal fade" id="editPortProfile" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <!--<div class="modal-content">-->
    <form class="edit-form modal-content" role="form" ng-submit="updatePortProfile(editedPortProfile)" novalidate>
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Edit PortProfile {{editedPortProfile.name}}</h4>
      </div>
      <div class="modal-body">
        <div class="form-group">
            <label>Name</label>
            <input type="text" class="form-control" ng-model="editedPortProfile.name" placeholder="Enter name">
          </div>
        <div class="form-group">
            <label>Port Type</label>
            <select class="form-control" ng-model="editedPortProfile.porttype" ng-options="port for port in porttypes"></select>
          </div>
        <div class="form-group" ng-if="editedPortProfile.porttype=='access'">
            <label>VLAN</label>
            <input type="text" class="form-control" ng-model="editedPortProfile.vlan" placeholder="Enter VLAN">
          </div>
        <div class="form-group" ng-if="editedPortProfile.porttype=='access'">
            <label>Voice VLAN</label>
            <input type="text" class="form-control" ng-model="editedPortProfile.voicevlan" placeholder="Enter Voice VLAN">
          </div>
        <div class="form-group" ng-if="editedPortProfile.porttype=='trunk'">
            <label>Native VLAN</label>
            <input type="text" class="form-control" ng-model="editedPortProfile.vlan" placeholder="Enter Native VLAN">
          </div>
        <div class="form-group" ng-if="editedPortProfile.porttype=='trunk'">
            <label>Allowed VLANs</label>
            <input type="text" class="form-control" ng-model="editedPortProfile.allowedvlans" placeholder="Enter Allowed VLAN">
          </div>
        <div class="form-group">
            <label>Tags</label>
            <input type="text" class="form-control" ng-model="editedPortProfile.tags" placeholder="Enter Tags, space seperated">
          </div>
        <div class="form-group">
            <label>PoE</label>
            <select class="form-control" ng-model="editedPortProfile.poe" ng-options="poetype for poetype in poe"></select>
          </div>
        <div class="form-group">
            <label>Isolation</label>
            <select class="form-control" ng-model="editedPortProfile.isolation" ng-options="poetype for poetype in poe"></select>
          </div>
        <div class="form-group">
            <label>RSTP</label>
            <select class="form-control" ng-model="editedPortProfile.rstp" ng-options="type for type in rstp"></select>
          </div>
        <div class="form-group" ng-if="editedPortProfile.rstp=='enabled'">
            <label>STPguard</label>
            <select class="form-control" ng-model="editedPortProfile.stpguard" ng-options="type for type in stpguard"></select>
          </div>
        <div class="form-group">
            <label>Access Policy</label>
            <input type="text" class="form-control" ng-model="editedPortProfile.accesspolicynum" placeholder="Enter Access Policy">
          </div>
        <!--<div class="form-group">
            <label>Negotiation</label>
            <select class="form-control" ng-model="editedPortProfile.linkNegotiation" ng-options="type for type in negotiation"></select>
          </div>-->
        <div ng-show="editPortProfileError" class="col-sm-12 alert alert-danger">{{ editPortProfileError }}</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" ng-click="cancelEditing()" data-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-primary btn-green">Update</button>
      </div>
    </form>
    <!--</div> /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<!-- Delete PortProfile Modal -->
<div class="modal fade" id="deletePortProfile" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Delete PortProfile {{deletedPortProfile.name}}</h4>
      </div>
      <div class="modal-body">
        <div class="alert alert-danger" role="alert">
          <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
          <span class="sr-only">Warning:</span>
          Are you sure you want to delete this PortProfile?  This action cannot be reversed!
        </div>
        <table class="table table-striped table-bordered">
            <tr>
                <td>Name</td>
                <td>{{deletedPortProfile.name}}</td>
            </tr>
            <tr>
                <td>Port Type</td>
                <td>{{deletedPortProfile.porttype}}</td>
            </tr>
            <tr>
                <td>VLAN</td>
                <td ng-show="deletedPortProfile.porttype=='trunk'">{{deletedPortProfile.allowedvlans}}</td>
                <td ng-show="deletedPortProfile.porttype=='access'">{{deletedPortProfile.vlan}}</td>
            </tr>
            <tr>
                <td>Tags</td>
                <td>{{deletedPortProfile.tags}}</td>
            </tr>
        </table>
        <div ng-show="deletePortProfileError" class="col-sm-12 alert alert-danger">{{ deletePortProfileError }}</div>
      </div>
      <div class="modal-footer">
        <button type="submit" class="btn btn-danger pull-left" ng-click="deletePortProfile(deletedPortProfile.id)">Delete</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->


<div class="container-fluid">
<div class="row">
    <div class="col-md-12">
        <button type="button" class="btn btn-primary btn-green " data-toggle="modal" data-target="#newPortProfile">
            New Port Profile
        </button>
        <br/>&nbsp;
    </div>
</div>
<div class="row">
<div class="col-md-12">
    <div class="panel panel-default">
        <div class="panel-heading">
          <a class="btn btn-default btn-xs pull-right" ng-click="getPortProfiles();"><span class="glyphicon glyphicon-refresh" aria-hidden="true"></span></a>
          <a class="btn btn-default btn-xs pull-right" ng-click="searchState=!searchState");"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></a>
          <h3 class="panel-title">Port Profile Details</h3></div>
          <div class="panel-body table-responsive">
            <table st-table="display_records" st-safe-src="portProfiles" class="table table-striped" style="margin-bottom: 0px;">
              <thead>
              <tr>
                <th class="sortable" st-sort="name">Name</th>
                <th class="sortable" st-sort="porttype">Port Type</th>
                <th class="sortable" st-sort="vlan">VLAN</th>
                <th class="sortable" st-sort="tags">Tags</th>
                <th class="sortable" st-sort="poe">PoE</th>
                <th class="sortable" st-sort="isolation">Isolation</th>
                <th class="sortable" st-sort="rstp">RSTP</th>
                <th class="sortable" st-sort="stpguard">STPguard</th>
                <th class="sortable" st-sort="accesspolicynum">Access Policy</th>
                <!--<th class="sortable" st-sort="linkNegotiation">Negotiation</th>-->
                <th>Action</th>
              </tr>
              </thead>
              <tbody>
              <tr ng-show="searchState">
                <th><input st-search="name" class="input-sm form-control" type="search"/></th>
                <th><input st-search="porttype" class="input-sm form-control" type="search"/></th>
                <th><input st-search="vlan" class="input-sm form-control" type="search"/></th>
                <th><input st-search="tags" class="input-sm form-control" type="search"/></th>
                <th><input st-search="poe" class="input-sm form-control" type="search"/></th>
                <th><input st-search="isolation" class="input-sm form-control" type="search"/></th>
                <th><input st-search="rstp" class="input-sm form-control" type="search"/></th>
                <th><input st-search="stpguard" class="input-sm form-control" type="search"/></th>
                <th><input st-search="accesspolicynum" class="input-sm form-control" type="search"/></th>
                <!--<th><input st-search="linkNegotiation" class="input-sm form-control" type="search"/></th>-->
                <th></th>
              </tr>
              <!--<tr ng-repeat="row in display_records">-->
              <tr ng-repeat="row in display_records">
                <td style="padding:2px;">{{row.name}}</td>
                <td style="padding:2px;">{{row.porttype}}</td>
                <td ng-if="row.porttype=='access'" style="padding:2px;">{{row.vlan}}</td>
                <td ng-if="row.porttype=='trunk'" style="padding:2px;">{{row.allowedvlans}}</td>
                <td style="padding:2px;">{{row.tags}}</td>
                <td style="padding:2px;">{{convert_enabled_disabled(row.poe)}}</td>
                <td style="padding:2px;">{{convert_enabled_disabled(row.isolation)}}</td>
                <td style="padding:2px;">{{convert_enabled_disabled(row.rstp)}}</td>
                <td style="padding:2px;">{{row.stpguard}}</td>
                <td style="padding:2px;">{{row.accesspolicynum}}</td>
                <!--<td style="padding:2px;">{{row.linkNegotiation}}</td>-->
                <td style="padding:2px;">
                  <button type="button" class="btn btn-primary btn-xs btn-green" ng-click="setEditedPortProfile(row)" data-toggle="modal" data-target="#editPortProfile"><span class="glyphicon glyphicon-edit"></span></button>
                  <button type="button" class="btn btn-danger btn-xs" ng-click="setDeletedPortProfile(row)"><span class="glyphicon glyphicon-remove" data-toggle="modal" data-target="#deletePortProfile"></span></button>
                </td>
              </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td colspan="10">
                    <div class="pull-left" style="padding: 8px;">Show
                      <select ng-model="itemsByPage.selected" ng-options="val for val in itemsByPage.options">
                      </select>
                      Entries
                    </div>
                    <div class="pull-right" st-pagination="" st-template="app/partials/pagination.html" st-items-by-page="itemsByPage.selected" st-displayed-pages="7"></div>
                  </td>
                </tr>
              </tfoot>
            </table>
          </div>
      </div>
</div>